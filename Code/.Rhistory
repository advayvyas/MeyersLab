?pivot_longer
??pivot_longer
?pivot_wider()
??pivot_wider
library(dplyr)
library(tidyverse)
library(ggplot2)
library(lubridate)
library(patchwork)
?pivot_wider
city_health %>% pivot_wider(names_from = Metric, values_from = Value)
city_health = read.csv("../texas_cityhealth.csv") # 2022
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
city_health %>% pivot_wider(names_from = Metric, values_from = Value)
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
View(city_health)
View(city_health)
colnames(city_health)
colnames(city_health)[1] = "city"
colnames(city_health)
first_spike %>% left_join(city_health)
knitr::opts_chunk$set(fig.height=8, fig.width=8, fig.align = "center", warning=FALSE, echo=FALSE, tidy=TRUE, tidy.opts=list(width.cutoff=60))
library(dplyr)
library(tidyverse)
library(ggplot2)
library(lubridate)
library(patchwork)
city_trend_major = read.csv("../texas_city_trend_major.csv")
colnames(city_trend_major) = c("city", "year", "quarter", "total_patients", "population", "patients_per_100k")
ggplot(city_trend_major, aes(x = quarter, y = patients_per_100k, group = city, color = city)) +
geom_line(linewidth = 1,) +
geom_point() +
labs(title = "Flu patients per 100,000 over time by city", x = "Quarter", y = "Patients per 100,000", color = "City") +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) + theme_bw()
first_spike = city_trend_major %>% filter(quarter == "2022Q4") %>% select(city, total_patients, population, patients_per_100k)
second_spike = city_trend_major %>% filter(quarter == "2024Q1") %>% select(city, total_patients, population, patients_per_100k)
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
ggplot(city_trend_major %>% filter(quarter == "2022Q4" | quarter == "2024Q1")) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k, fill = quarter), position = position_dodge2(preserve = "single"), col="black") +
labs(title = "Flu Patients per 100,000 during Spikes", x = "City", y = "Flu Patients per 100,000", fill = "Quarter") + theme_bw()
first_spike %>% left_join(city_health)
first_spike %>% left_join(city_health) %>% left_join(flu_vax)
View(flu_vax)
first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
View(first_spike)
View(first_spike)
```{r, message=FALSE}
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
first_spike = first_spike %>% left_join(city_health, by = join_by(city)) %>% left_join(flu_vax[,2:3])
first_spike = first_spike %>% left_join(city_health, by = join_by(city)) %>% left_join(flu_vax[,2:3], by = city)
first_spike = first_spike %>% left_join(city_health, by = join_by(city)) %>% left_join(flu_vax[,2:3], by = join_by(city))
cor(first_spike)
cor(first_spike)
ggplot(first_spike) + geom_point(x)
cor(first_spike)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
library(corrplot)
install.packages("corrplot")
library(corrplot)
# Plot
corrplot(cor_matrix, method = "color", type = "upper",
col = colorRampPalette(c("blue", "white", "red"))(200),
tl.col = "black", tl.srt = 45)
library(corrplot)
# Plot
corrplot(cor_matrix, method = "color", type = "upper",
tl.col = "black", tl.srt = 45)
library(corrplot)
# Plot
corrplot(cor_matrix, method = "color", type = "upper",
tl.col = "black")
?corrplot
# Plot
corrplot(cor_matrix, method = "circle", type = "upper",
tl.col = "black")
# Plot
corrplot(cor_matrix, method = "shade", type = "upper", tl.col = "black")
# Plot
corrplot(cor_matrix, method = "number", type = "upper", tl.col = "black")
# Plot
corrplot(cor_matrix, method = "number", type = "upper", tl.col = "black")
# Plot
corrplot(cor_matrix, method = "number", type = "upper")
, tl.col = "black"
# Plot
corrplot(cor_matrix, method = "number", type = "upper", tl.col = "black")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "upper", tl.col = "black")
corrplot(cor_matrix, method = "number", type = "full", tl.col = "black")
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black")
corrplot(cor_matrix, method = "number", type = "upper", tl.col = "black")
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 45)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 30)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 60)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 80)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90)
# First layer: colored background
corrplot(cor_matrix, method = "color", type = "lower",
col = colorRampPalette(c("blue", "white", "red"))(200),
tl.col = "black", tl.srt = 90)
# Second layer: correlation numbers on top
corrplot(cor_matrix, method = "number", type = "lower", add = TRUE, diag = FALSE)
# First layer: colored background
corrplot(cor_matrix, method = "color", type = "lower",
col = colorRampPalette(c("blue", "white", "red"))(200),
tl.col = "black", tl.srt = 90)
# Second layer: correlation numbers on top
corrplot(cor_matrix, method = "number", type = "lower", add = TRUE, diag = FALSE)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90, addgrid.col = TRUE)
corrplot(cor_matrix, method = "pie", type = "lower", tl.col = "black", tl.srt = 90, addgrid.col = TRUE)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90, addgrid.col = TRUE)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90)
View(numeric_data)
View(numeric_data)
View(first_spike)
View(first_spike)
numeric_data = first_spike[,2:15]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90)
View(numeric_data)
View(numeric_data)
numeric_data = first_spike[,2:15]
View(first_spike)
View(first_spike)
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
first_spike = first_spike %>% left_join(city_health)
View(first_spike)
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
first_spike %>% left_join(city_health)
View(city_health)
View(first_spike)
View(first_spike)
first_spike = city_trend_major %>% filter(quarter == "2022Q4") %>% select(city, total_patients, population, patients_per_100k)
second_spike = city_trend_major %>% filter(quarter == "2024Q1") %>% select(city, total_patients, population, patients_per_100k)
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "number", type = "lower", tl.col = "black", tl.srt = 90)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "color", type = "lower", tl.col = "black", tl.srt = 90)
corrplot(cor_matrix, method = "color", type = "lower", tl.col = "black", tl.srt = 90, addgrid.col = TRUE)
corrplot(cor_matrix, method = "number", type = "lower",
add = TRUE, diag = FALSE)
corrplot(cor_matrix, method = "color", type = "lower",
col = colorRampPalette(c("blue", "white", "red"))(200),
tl.col = "black", tl.srt = 90)
corrplot(cor_matrix, method = "number", type = "lower",
add = TRUE, diag = FALSE)
library(ggplot2)
library(reshape2)
install.packages("reshape2")
library(ggplot2)
library(reshape2)
melted_cor = melt(cor_matrix)
ggplot(melted_cor, aes(x = Var1, y = Var2, fill = value)) +
geom_tile(color = "white") +
geom_text(aes(label = round(value, 2)), size = 4) +
scale_fill_gradient2(low = "blue", high = "red", mid = "white",
midpoint = 0, limit = c(-1, 1)) +
theme_minimal() +
coord_fixed() +
labs(title = "Correlation Heatmap", x = "", y = "")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot(cor_matrix, method = "color", type = "lower", tl.col = "black", tl.srt = 90, addgrid.col = TRUE)
library(ggplot2)
library(reshape2)
melted_cor = melt(cor_matrix)
ggplot(melted_cor, aes(x = Var1, y = Var2, fill = value)) +
geom_tile(color = "white") +
geom_text(aes(label = round(value, 2)), size = 4) +
scale_fill_gradient2(low = "blue", high = "red", mid = "white",
midpoint = 0, limit = c(-1, 1)) +
theme_minimal() +
coord_fixed() +
labs(title = "Correlation Heatmap", x = "", y = "")
library(corrplot)
# Compute correlation matrix
cor_matrix = cor(mtcars)
# Step 1: Plot colored tiles
corrplot(cor_matrix, method = "color", type = "lower",
col = colorRampPalette(c("blue", "white", "red"))(200),
tl.col = "black", tl.srt = 45, number.cex = 0.7,
addCoef.col = NULL)  # important: do NOT use addCoef.col here
# Step 2: Add numbers
corrplot(cor_matrix, method = "number", type = "lower",
add = TRUE, diag = FALSE, number.cex = 0.7)
corrplot.mixed(cor_matrix, tl.col = "black", tl.srt = 90, addgrid.col = TRUE, upper="color",lower="number")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot.mixed(cor_matrix, tl.col = "black", tl.srt = 90, addgrid.col = TRUE, upper="color", lower="number")
?corrplot.mixed
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "d", addgrid.col = TRUE, upper="color", lower="number")
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number")
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="l")
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="u")
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="l")
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k))
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city))
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), pch=21)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=20)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=10)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=5)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=2)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=3)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=3) + geom_smooth()
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=3) + geom_smooth(aes(x=coverage_rate, y=patients_per_100k))
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=3) + stat_smooth(method = "lm", col = "red")
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=3) + stat_smooth(aes(x=coverage_rate, y=patients_per_100k), method = "lm", col = "red")
?stat_smooth
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=2) + stat_smooth(aes(x=coverage_rate, y=patients_per_100k), method = "lm", col = "black", se=FALSE)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=2) + stat_smooth(aes(x=coverage_rate, y=patients_per_100k, col=city), method = "lm", col = "black", se=FALSE)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=2) + stat_smooth(aes(x=coverage_rate, y=patients_per_100k), method = "lm", col = "black", se=FALSE)
ggplot(first_spike) + geom_point(aes(x=coverage_rate, y=patients_per_100k, col=city), size=2) + stat_smooth(aes(x=coverage_rate, y=patients_per_100k), method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + stat_smooth(method = "lm", col = "black", se=FALSE)
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="l")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="l")
numeric_data = first_spike[sapply(first_spike, is.numeric)]
cor_matrix = cor(numeric_data)
corrplot.mixed(cor_matrix, tl.col = "black", tl.pos = "lt", addgrid.col = TRUE, upper="color", lower="number", diag="l")
ggplot(city_trend_major %>% filter(quarter == "2022Q4" | quarter == "2024Q1")) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k, fill = quarter), position = position_dodge2(preserve = "single"), col="black") +
labs(title = "Flu Patients per 100,000 during Spikes", x = "City", y = "Flu Patients per 100,000", fill = "Quarter") + theme_bw()
city_health = read.csv("../texas_cityhealth.csv") %>% pivot_wider(names_from = Metric, values_from = Value) # 2022
colnames(city_health)[1] = "city"
flu_vax = read.csv("../texas_flu_vax.csv") # 2022
first_spike = first_spike %>% left_join(city_health) %>% left_join(flu_vax[,2:3])
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "")
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "")
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "")
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "")
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Vaccination Coverage Rate vs. Flu Patients per 100,000", "Coverage Rate", "Patients per 100,000", col = "City")
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Routine Checkup (%) vs. Flu Patients per 100,000", "Routine Checkup (%)", "Patients per 100,000", col = "City")
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Vaccination Coverage Rate vs. Flu Patients per 100,000", "Coverage Rate", "Patients per 100,000", col = "City") + theme_bw()
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Routine Checkup (%) vs. Flu Patients per 100,000", "Routine Checkup (%)", "Patients per 100,000", col = "City")
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE)
ggplot(first_spike, aes(x=coverage_rate, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Vaccination Coverage Rate vs. Flu Patients per 100,000", x="Coverage Rate", y="Patients per 100,000", col = "City") + theme_bw()
ggplot(first_spike, aes(x=`Routine Checkup (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Routine Checkup (%) vs. Flu Patients per 100,000", x=  "Routine Checkup (%)", y ="Patients per 100,000", col = "City") + theme_bw()
ggplot(first_spike, aes(x=`Uninsured (%)`, y=patients_per_100k, col=city)) + geom_point(size=2) + geom_smooth(method = "lm", col = "black", se=FALSE) +
labs(title = "Vaccination Coverage Rate vs. Flu Patients per 100,000", x = "Uninsured (%)", y = "Patients per 100,000", col = "City") + theme_bw()
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
first = ggplot(first_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2022 Q4)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
second = ggplot(second_spike) + geom_col(aes(x = reorder(city, patients_per_100k), y = patients_per_100k), fill = "skyblue", col="black") +
labs(title = "Flu Patients per 100,000 during First Spike (2024 Q1)", x = "City", y = "Flu Patients per 100,000") + theme_bw()
first / second
